<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>ì˜ˆìƒ ë¹„ë°€ë²ˆí˜¸ ìƒì„±ê¸°</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Segoe UI', sans-serif;
    }

    body {
      display: flex;
      justify-content: center;
      align-items: flex-start;
      min-height: 100vh;
      background: linear-gradient(135deg, #0f2027, #203a43, #2c5364);
      color: #fff;
      padding: 40px 20px;
    }

    .container {
      width: 100%;
      max-width: 600px;
      background: rgba(255, 255, 255, 0.05);
      padding: 30px 25px;
      border-radius: 12px;
      animation: fadeIn 0.8s ease-in;
      box-shadow: 0 8px 20px rgba(0,0,0,0.3);
    }

    h1 {
      font-size: 1.8rem;
      margin-bottom: 15px;
      text-align: center;
    }

    #intro {
      background: rgba(255,255,255,0.08);
      padding: 12px;
      border-radius: 8px;
      border: 1px solid rgba(255,255,255,0.15);
      margin-bottom: 20px;
      font-size: 0.9rem;
      line-height: 1.5;
    }

    label {
      display: block;
      margin-top: 12px;
      font-size: 0.95rem;
    }

    input, select, button {
      margin-top: 5px;
      padding: 10px;
      width: 100%;
      border-radius: 6px;
      border: none;
      font-size: 1rem;
      outline: none;
    }

    input, select {
      background: rgba(255,255,255,0.15);
      color: #fff;
    }

    input::placeholder {
      color: rgba(255,255,255,0.6);
    }

    select {
      background: rgba(255,255,255,0.15);
    }

    .inline-group {
      display: flex;
      align-items: center;
      gap: 10px;
    }

    button {
      background: #ff9800;
      color: #fff;
      font-weight: bold;
      margin-top: 20px;
      cursor: pointer;
      transition: background 0.3s ease;
    }

    button:hover {
      background: #ffb74d;
    }

    .hidden { display: none; }

    #resultBox {
      margin-top: 20px;
      padding: 12px;
      background: rgba(255,255,255,0.1);
      border-radius: 8px;
      font-size: 0.95rem;
      white-space: pre-wrap;
    }

    a.download-link {
      display: inline-block;
      margin-top: 10px;
      background: #ff9800;
      padding: 10px 20px;
      border-radius: 20px;
      color: #fff;
      text-decoration: none;
      font-weight: bold;
    }

    a.download-link:hover {
      background: #ffb74d;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(15px); }
      to { opacity: 1; transform: translateY(0); }
    }
  </style>
</head>
<body>

<div class="container">
  <h1>ì˜ˆìƒ ë¹„ë°€ë²ˆí˜¸ ìƒì„±ê¸°</h1>

  <div id="intro">
    <strong>ë‹¹ì‹ ì˜ ë¹„ë°€ë²ˆí˜¸ë¥¼ ë§í˜€ë³´ê² ìŠµë‹ˆë‹¤.</strong><br><br>
    <u>ì˜ˆìƒ ë¹„ë°€ë²ˆí˜¸ ìƒì„± ê·œì¹™</u>:<br>
    - ì†Œë¬¸ìë§Œ ì‚¬ìš© (7~10ì)<br>
    - íŠ¹ìˆ˜ë¬¸ì ë°˜ë“œì‹œ í¬í•¨ (!@#$%^&*)<br>
    - ì´ë¦„/ìƒì¼/ë‹‰ë„¤ì„/ì „í™”ë²ˆí˜¸ ë“±ì˜ ì •ë³´ë¥¼ ì¡°í•©í•˜ì—¬ ìƒì„±ë©ë‹ˆë‹¤.
  </div>

  <!-- Step 1 -->
  <div id="step1">
    <label>ì´ë¦„ (ì˜ˆ: Min)</label>
    <input type="text" id="firstName" placeholder="First name">

    <label>ì„± (ì˜ˆ: Kim)</label>
    <input type="text" id="lastName" placeholder="Last name">

    <label>ìƒë…„ì›”ì¼</label>
    <input type="date" id="birth">

    <label>ì „í™”ë²ˆí˜¸</label>
    <input type="text" id="phone" placeholder="01012345678">

    <label>ì§‘ì „í™”ë²ˆí˜¸</label>
    <div class="inline-group">
      <input type="text" id="homePhone" placeholder="ì§‘ì „í™”ë²ˆí˜¸">
      <label><input type="checkbox" id="noHomePhone"> ì—†ìŒ</label>
    </div>

    <button onclick="goToStep2()">ë‹¤ìŒ</button>
  </div>

  <!-- Step 2 -->
  <div id="step2" class="hidden">
    <label>ë³„ëª…</label><input type="text" id="nickname">

    <label>ë°˜ë ¤ë™ë¬¼ ì´ë¦„ë“¤ (ì‰¼í‘œë¡œ êµ¬ë¶„)</label>
    <div class="inline-group">
      <input type="text" id="petNames" placeholder="ì˜ˆ: coco, milo">
      <label><input type="checkbox" id="noPet"> ì—†ìŒ</label>
    </div>

    <label>ìì£¼ ì‚¬ìš©í•˜ëŠ” ìˆ«ìë“¤ (ì‰¼í‘œë¡œ êµ¬ë¶„)</label><input type="text" id="favNums">

    <label>ì„ í˜¸ íŠ¹ìˆ˜ë¬¸ìë“¤ (ì˜ˆ: !,@,$)</label><input type="text" id="specialChars">

    <label>ë¹„ë°€ë²ˆí˜¸ì— ì´ë¦„ì„ í¬í•¨í•©ë‹ˆê¹Œ?</label>
    <select id="includeName"><option value="yes">ì˜ˆ</option><option value="no">ì•„ë‹ˆì˜¤</option></select>

    <label>ë¬¸ì ì¹˜í™˜(S â†’ $ ë“±)ì„ ì‚¬ìš©í•©ë‹ˆê¹Œ?</label>
    <select id="useLeet"><option value="yes">ì˜ˆ</option><option value="no">ì•„ë‹ˆì˜¤</option></select>

    <button onclick="generatePasswords()">ë¹„ë°€ë²ˆí˜¸ ìƒì„± ë° ë‹¤ìš´ë¡œë“œ</button>
  </div>

  <div id="resultBox"></div>
</div>

<script>
const leetMap = { 'a': '@', 's': '$', 'i': '1', 'o': '0', 'e': '3' };

function applyLeet(word, useLeet) {
  if (!useLeet) return word;
  return word.split('').map(c => leetMap[c] || c).join('');
}

function isValidName(name) {
  return /^[A-Z][a-z]+$/.test(name);
}

function goToStep2() {
  const firstName = document.getElementById("firstName").value.trim();
  const lastName = document.getElementById("lastName").value.trim();
  const birth = document.getElementById("birth").value;
  const phone = document.getElementById("phone").value.trim();

  if (!isValidName(firstName) || !isValidName(lastName)) {
    alert("ì´ë¦„ê³¼ ì„±ì€ ì˜ì–´ë¡œ ì…ë ¥í•˜ê³ , ì´ë‹ˆì…œë§Œ ëŒ€ë¬¸ìë¡œ ì‘ì„±í•´ì•¼ í•©ë‹ˆë‹¤. ì˜ˆ: Min, Kim");
    return;
  }
  if (!birth) {
    alert("ìƒë…„ì›”ì¼ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.");
    return;
  }
  if (!phone) {
    alert("ì „í™”ë²ˆí˜¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.");
    return;
  }

  document.getElementById('step1').classList.add('hidden');
  document.getElementById('step2').classList.remove('hidden');
}

function generatePasswords() {
  const firstName = document.getElementById("firstName").value.trim().toLowerCase();
  const lastName = document.getElementById("lastName").value.trim().toLowerCase();
  const birth = document.getElementById("birth").value;
  const phone = document.getElementById("phone").value.trim();
  const homePhone = document.getElementById("noHomePhone").checked ? "" : document.getElementById("homePhone").value.trim();

  const nickname = document.getElementById("nickname").value.trim().toLowerCase();
  const petNames = document.getElementById("noPet").checked ? [] :
    document.getElementById("petNames").value.split(',').map(p => p.trim().toLowerCase());
  const favNums = document.getElementById("favNums").value.split(',').map(n => n.trim()).filter(Boolean);
  const specialChars = document.getElementById("specialChars").value.split(',').map(s => s.trim()).filter(Boolean);

  const includeName = document.getElementById("includeName").value === 'yes';
  const useLeet = document.getElementById("useLeet").value === 'yes';

  if (specialChars.length === 0) {
    alert("ìµœì†Œ í•˜ë‚˜ ì´ìƒì˜ íŠ¹ìˆ˜ë¬¸ìë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.");
    return;
  }

  const baseWords = [nickname, ...petNames];
  if (includeName) baseWords.push(firstName, lastName);

  const numberParts = [];
  if (birth) {
    const [y, m, d] = birth.split("-");
    numberParts.push(y, m + d);
  }
  numberParts.push(...favNums);
  if (phone.length >= 4) numberParts.push(phone.slice(-4));
  if (homePhone.length >= 4) numberParts.push(homePhone.slice(-4));

  const passwords = new Set();

  outer: for (let word of baseWords) {
    for (let num of numberParts) {
      for (let s of specialChars) {
        const combos = [
          word + num + s,
          s + word + num,
          word + s + num,
          num + word + s,
          applyLeet(word, useLeet) + num + s,
          applyLeet(word + num, useLeet) + s
        ];
        for (let pw of combos) {
          if (pw.length >= 7 && pw.length <= 10 && /[!@#$%^&*]/.test(pw)) {
            passwords.add(pw);
            if (passwords.size >= 10000) break outer;
          }
        }
      }
    }
  }

  // ë¶€ì¡±í•  ê²½ìš° ëœë¤ ë¬¸ìì—´ë¡œ ì±„ì›€
  const alphabet = "abcdefghijklmnopqrstuvwxyz";
  const specials = "!@#$%^&*";
  while (passwords.size < 10000) {
    let word = "";
    const len = 7 + Math.floor(Math.random() * 4);
    for (let i = 0; i < len - 1; i++) {
      word += alphabet[Math.floor(Math.random() * alphabet.length)];
    }
    word += specials[Math.floor(Math.random() * specials.length)];
    passwords.add(word);
  }

  const pwList = Array.from(passwords);
  const resultBox = document.getElementById("resultBox");
  resultBox.innerHTML = `âœ… 10,000ê°œì˜ ë¹„ë°€ë²ˆí˜¸ ìƒì„± ì™„ë£Œ. ì•„ë˜ ë²„íŠ¼ì„ ëˆŒëŸ¬ ë‹¤ìš´ë¡œë“œí•˜ì„¸ìš”.<br>`;

  const blob = new Blob([pwList.join('\n')], { type: 'text/plain' });
  const a = document.createElement('a');
  a.href = URL.createObjectURL(blob);
  a.download = 'generated_passwords.txt';
  a.textContent = 'ğŸ‘‰ ì˜ˆìƒ ë¹„ë°€ë²ˆí˜¸ íŒŒì¼ ë‹¤ìš´ë¡œë“œ';
  a.classList.add('download-link');
  resultBox.appendChild(a);
}
</script>

</body>
</html>
